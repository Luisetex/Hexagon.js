!function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var e={},i={},s={},n={}.hasOwnProperty,r="components/",a=function(t,e){var i=0;e&&(0===e.indexOf(r)&&(i=r.length),e.indexOf("/",i)>0&&(e=e.substring(i,e.indexOf("/",i))));var n=s[t+"/index.js"]||s[e+"/deps/"+t+"/index.js"];return n?r+n.substring(0,n.length-".js".length):t},h=/^\.\.?(\/|$)/,l=function(t,e){for(var i,s=[],n=(h.test(e)?t+"/"+e:e).split("/"),r=0,a=n.length;a>r;r++)i=n[r],".."===i?s.pop():"."!==i&&""!==i&&s.push(i);return s.join("/")},o=function(t){return t.split("/").slice(0,-1).join("/")},c=function(e){return function(i){var s=l(o(e),i);return t.require(s,e)}},d=function(t,e){var s={id:t,exports:{}};return i[t]=s,e(s.exports,c(t),s),s.exports},u=function(t,s){var r=l(t,".");if(null==s&&(s="/"),r=a(t,s),n.call(i,r))return i[r].exports;if(n.call(e,r))return d(r,e[r]);var h=l(r,"./index");if(n.call(i,h))return i[h].exports;if(n.call(e,h))return d(h,e[h]);throw new Error('Cannot find module "'+t+'" from "'+s+'"')};u.alias=function(t,e){s[e]=t},u.register=u.define=function(t,i){if("object"==typeof t)for(var s in t)n.call(t,s)&&(e[s]=t[s]);else e[t]=i},u.list=function(){var t=[];for(var i in e)n.call(e,i)&&t.push(i);return t},u.brunch=!0,u._cache=i,t.require=u}}(),require.register("Cursor",function(t,e,i){"use strict";var s;i.exports=s=function(){function t(t){this.canvas=t.canvas||{},this.color=t.color||"#fff",this.strokeColor=t.strokeColor||"#000",this.strokeWidth=t.strokeWidth||0,this.size=t.size||5,this.radius=t.radius||50,this.speed=t.speed||4,this.dir=0,this.angle=30,this.draw=function(){var t=this.canvas.getContext("2d"),e=this.canvas.width/2+this.radius*Math.cos(this.angle*Math.PI/180),i=this.canvas.height/2+this.radius*Math.sin(this.angle*Math.PI/180);this.angle=this.angle+this.dir*this.speed,this.angle<0?this.angle=360-this.angle:this.angle>360&&(this.angle%=360),t.translate(e,i),t.rotate(this.angle*Math.PI/180),t.translate(-e,-i),t.beginPath(),t.moveTo(e-this.size,i-this.size),t.lineTo(e+this.size,i),t.lineTo(e-this.size,i+this.size),t.closePath(),t.fillStyle=this.color,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.stroke(),t.fill(),t.translate(e,i),t.rotate(-this.angle*Math.PI/180),t.translate(-e,-i)},this.getCoord=function(){this.canvas.getContext("2d"),this.canvas.width/2+this.radius*Math.cos(this.angle*Math.PI/180),this.canvas.height/2+this.radius*Math.sin(this.angle*Math.PI/180);return{a:this.angle,d:this.radius+2*this.size}}}return t}()}),require.register("Hexagon",function(t,e,i){"use strict";var s,n=e("Utils"),r=e("RegularPolygon"),a=e("Rays"),h=e("Wall"),l=e("Cursor"),o=e("Timer");i.exports=s=function(){function t(t){if("undefined"==typeof t)throw new Error("No args provided");if("undefined"==typeof t.canvas)throw new Error("No canvas provided");this.args=t,this.canvas=t.canvas,this.ctx=this.canvas.getContext("2d"),this.angleSpeed="number"==typeof t.angleSpeed?t.angleSpeed:2,this.walls=[null,null,null,null],this.wallColors=t.wallColors||["#1EAAA5","#4EFC96"],this.currentWallColor=this.wallColors[0],this.backgroundColors=t.backgroundColors||["#0A2727","#103D3D"],this.rays=new a({amount:6}),this.hexagon=new r({canvas:this.canvas,sides:6,size:1e3}),this.cursor=new l({canvas:this.canvas,size:7,color:this.wallColors[0],strokeColor:"rgba(0,0,0,0)",strokeWidth:1,radius:75,speed:t.cursorSpeed||5}),this.wallSpeed=t.wallSpeed||2,this.minDist=Math.sqrt(Math.pow(this.canvas.width,2)+Math.pow(this.canvas.height,2))/2,this.timer=(new o).init(this.wallColors);for(var e,i=0,s=!1,c=0,d=1,u=0;u<this.walls.length;u++)this.walls[u]=new h({distance:this.minDist+this.minDist/3*(u+1)}),console.log(this.walls[u]),this.walls[u].generatePattern(6);this.init=function(){return this.angleSpeed="number"==typeof t.angleSpeed?t.angleSpeed:2,Date.now()%2==0&&(this.angleSpeed*=-1),this.wallSpeed=t.wallSpeed||2,this.cursor.size=7,this.timer.currentLevel=0,this.timer.levelText.innerHTML="POINT",i=0,this},this.play=function(){var t=this;s=!1,document.onkeydown=function(e){var i=e.which||e.keyCode;27==i&&(s=!0),t.moveCursor(e)},document.onkeyup=function(e){t.stopCursor(e)},e=requestAnimationFrame(g.bind(this))},this.moveCursor=function(t){var e=t.which||t.keyCode;39==e?this.cursor.dir=1:37==e&&(this.cursor.dir=-1)},this.stopCursor=function(t){var e=t.which||t.keyCode;(39==e&&1==this.cursor.dir||37==e&&-1==this.cursor.dir)&&(this.cursor.dir=0)},this.die=function(){this.hexagon.draw(this.canvas,this.backgroundColors[c],this.currentWallColor,7),this.cursor.draw(),this.cursor.dir=0,document.onkeydown=null,document.onkeyup=null,i=0,e=requestAnimationFrame(v.bind(this))};var g=function(){var t=60>=i%120?i%120:60-(i%120-60);this.currentWallColor=n.interpolateColor(this.wallColors[0],this.wallColors[1],60,t),Math.floor(1e3*Math.random())<1&&(this.angleSpeed*=-1),this.ctx.fillStyle=this.backgroundColors[c],this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.rotate(this.angleSpeed*Math.PI/180),this.ctx.translate(-this.canvas.width/2,-this.canvas.height/2),this.rays.draw(this.canvas,[this.backgroundColors[c],this.backgroundColors[d]]);for(var r=0;r<this.walls.length;r++)this.walls[r].draw(this.canvas,this.currentWallColor),this.walls[r].distance-=this.wallSpeed,this.walls[r].distance<=0&&(this.walls[r].distance=this.minDist+this.minDist/3,this.walls[r].generatePattern(6)),this.walls[r].checkCollision(this.cursor.getCoord(),this.canvas)&&(s=!0);return this.cursor.color=this.currentWallColor,this.cursor.draw(),this.cursor.radius>75&&(this.cursor.radius-=25),this.cursor.size>7&&(this.cursor.size-=1),this.hexagon.draw(this.backgroundColors[c],this.currentWallColor,7),this.hexagon.size>50&&(this.hexagon.size-=25),this.timer.update(i),s?this.die():(i++,void(e=requestAnimationFrame(g.bind(this))))},v=function(){if(this.angleSpeed>.4?(this.angleSpeed-=.01,this.angleSpeed<.4&&(this.angleSpeed=.4)):this.angleSpeed<-.4&&(this.angleSpeed+=.01,this.angleSpeed>-.4&&(this.angleSpeed=-.4)),this.wallSpeed>0&&(this.wallSpeed=0),30==i&&(this.wallSpeed=-50),i>=48&&this.hexagon.size<250&&(this.hexagon.size+=50,this.cursor.radius+=50,this.cursor.size+=1),this.hexagon.size>=250){var t=this;cancelAnimationFrame(e),window.onkeydown=function(i){var s=i.which||i.keyCode;if(32==s||38==s){for(var n=0;n<t.walls.length;n++)t.walls[n]=new h({distance:t.minDist+t.minDist/3*(n+1)}),t.walls[n].generatePattern(6);return window.onkeydown=null,cancelAnimationFrame(e),void t.init().play()}}}this.ctx.fillStyle=this.backgroundColors[c],this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.rotate(this.angleSpeed*Math.PI/180),this.ctx.translate(-this.canvas.width/2,-this.canvas.height/2),this.rays.draw(this.canvas,[this.backgroundColors[c],this.backgroundColors[d]]);for(var s=0;s<this.walls.length;s++)this.walls[s].draw(this.canvas,this.currentWallColor),this.walls[s].distance-=this.wallSpeed,this.walls[s].distance<=0&&(this.walls[s].distance=this.minDist+this.minDist/3,this.walls[s].generatePattern(6));this.cursor.color=3>i%6?this.wallColors[0]:this.wallColors[1],this.cursor.draw(),this.hexagon.draw(this.backgroundColors[c],this.currentWallColor,7),i++,e=requestAnimationFrame(v.bind(this))};return this}return t}()}),require.register("Rays",function(t,e,i){"use strict";var s;i.exports=s=function(){function t(t){this.amount="undefined"!=typeof t.amount?t.amount:3,this.draw=function(t,e){for(var i=t.getContext("2d"),s=t.width/2,n=t.height/2,r=t.width>t.height?t.width:t.height,a=1;a<=this.amount;a++)i.beginPath(),i.moveTo(s,n),i.lineTo(s+r*Math.cos(2*a*Math.PI/this.amount),n+r*Math.sin(2*a*Math.PI/this.amount)),i.lineTo(s+r*Math.cos((a+1)%this.amount*2*Math.PI/this.amount),n+r*Math.sin((a+1)%this.amount*2*Math.PI/this.amount)),i.fillStyle=e[a%2],i.fill()}}return t}()}),require.register("RegularPolygon",function(t,e,i){"use strict";var s;i.exports=s=function(){function t(t){if("undefined"==typeof t)throw new Error("RegularPolygon: No args provided");if("undefined"==typeof t.canvas)throw new Error("RegularPolygon: No target canvas provided");if("undefined"!=typeof t.sides&&t.sides<3)throw new Error("RegularPolygon: Sides cannot be less than 3");this.sides=t.sides||3,this.size=t.size||10,this.canvas=t.canvas||{},this.draw=function(t,e,i){var s=this.canvas.getContext("2d"),n=this.canvas.width/2||0,r=this.canvas.height/2||0;s.beginPath(),s.moveTo(n+this.size*Math.cos(0),r+this.size*Math.sin(0));for(var a=1;a<=this.sides;a++)s.lineTo(n+this.size*Math.cos(2*a*Math.PI/this.sides),r+this.size*Math.sin(2*a*Math.PI/this.sides));s.fillStyle=t,s.strokeStyle=e,s.lineCap="round",s.lineWidth=i,s.fill(),s.stroke()}}return t}()}),require.register("Timer",function(t,e,i){"use strict";var s;i.exports=s=function(){function t(t){this.currentLevel=0,this.levelTimings=[10,20,30,45,60],this.levelTexts=["LINE","TRIANGLE","SQUARE","PENTAGON","HEXAGON"],this.element,this.timeText,this.label,this.level,this.levelText,this.levelProgressContainer,this.levelProgress,this.init=function(t){return this.element=document.createElement("div"),this.element.classList.add("hjs"),this.element.classList.add("timer"),document.getElementsByTagName("body")[0].appendChild(this.element),this.timeText=document.createElement("span"),this.element.appendChild(this.timeText),this.label=document.createElement("div"),this.label.classList.add("hjs"),this.label.classList.add("label"),this.label.innerHTML="TIME",this.element.appendChild(this.label),this.level=document.createElement("div"),this.level.classList.add("hjs"),this.level.classList.add("level"),document.getElementsByTagName("body")[0].appendChild(this.level),this.levelText=document.createElement("span"),this.levelText.innerHTML="POINT",this.level.appendChild(this.levelText),this.levelProgressContainer=document.createElement("div"),this.level.appendChild(this.levelProgressContainer),this.levelProgress=document.createElement("div"),this.levelProgress.style.backgroundColor=t[1],this.levelProgressContainer.appendChild(this.levelProgress),this},this.update=function(t){var e=Math.floor(t/60),i=Math.floor(t-60*e);i=("0"+i).slice(-2),this.timeText.innerHTML=e+":"+i;var s=t/(60*this.levelTimings[this.currentLevel])*100;this.currentLevel>0&&(s=(t-60*this.levelTimings[this.currentLevel-1])/(60*this.levelTimings[this.currentLevel]-60*this.levelTimings[this.currentLevel-1])*100),s%=100,this.levelProgress.style.width=s+"%";for(var n=0;n<this.levelTimings.length;n++)e==this.levelTimings[n]&&this.currentLevel==n&&(this.currentLevel++,this.levelText.innerHTML=this.levelTexts[n])}}return t}()}),require.register("Utils",function(t,e,i){"use strict";var s={interpolateColor:function(t,e,i,s){function n(t){return t.toString(16)}function r(t){return parseInt(t,16)}if(0==s)return t;if(s==i)return e;for(var a="#",h=1;6>=h;h+=2){for(var l=new Number(r(t.substr(h,2))),o=new Number(r(e.substr(h,2))),c=l+(o-l)*(s/i),d=n(Math.floor(c));d.length<2;)d="0"+d;a+=d}return a}};i.exports=s}),require.register("Wall",function(t,e,i){"use strict";var s;i.exports=s=function(){function t(t){this.walls=[!1,!1,!1,!1,!1,!1],this.distance=t.distance||250,this.width=t.width||50;var e=function(t){for(var e=0;e<t.length;e++)if(0==t[e])return!0;return!1};this.generatePattern=function(t){for(var i=0;t>i;i++)this.walls[i]=Boolean(Math.round(Math.random()));e(this.walls)||this.generatePattern(t)},this.draw=function(t,e){for(var i=t.getContext("2d"),s=t.width/2,n=t.height/2,r=0;r<this.walls.length;r++)this.walls[r]&&(i.beginPath(),i.moveTo(s+this.distance*Math.cos(2*r*Math.PI/6),n+this.distance*Math.sin(2*r*Math.PI/6)),i.lineTo(s+this.distance*Math.cos(2*(r+1)*Math.PI/6),n+this.distance*Math.sin(2*(r+1)*Math.PI/6)),i.lineTo(s+(this.distance-this.width)*Math.cos(2*(r+1)*Math.PI/6),n+(this.distance-this.width)*Math.sin(2*(r+1)*Math.PI/6)),i.lineTo(s+(this.distance-this.width)*Math.cos(2*r*Math.PI/6),n+(this.distance-this.width)*Math.sin(2*r*Math.PI/6)),i.closePath(),i.fillStyle=e,i.strokeStyle=e,i.lineWidth=1,i.fill(),i.stroke())},this.checkCollision=function(t,e){for(var i=0;i<this.walls.length;i++){var s=60*i,n=60*(i+1);if(this.walls[i]&&s<=t.a&&n>=t.a&&this.distance-this.width<=t.d&&this.distance>=t.d)return!0}return!1}}return t}()});