!function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var e={},s={},i={},n={}.hasOwnProperty,r="components/",a=function(t,e){var s=0;e&&(0===e.indexOf(r)&&(s=r.length),e.indexOf("/",s)>0&&(e=e.substring(s,e.indexOf("/",s))));var n=i[t+"/index.js"]||i[e+"/deps/"+t+"/index.js"];return n?r+n.substring(0,n.length-".js".length):t},o=/^\.\.?(\/|$)/,l=function(t,e){for(var s,i=[],n=(o.test(e)?t+"/"+e:e).split("/"),r=0,a=n.length;a>r;r++)s=n[r],".."===s?i.pop():"."!==s&&""!==s&&i.push(s);return i.join("/")},h=function(t){return t.split("/").slice(0,-1).join("/")},u=function(e){return function(s){var i=l(h(e),s);return t.require(i,e)}},c=function(t,e){var i={id:t,exports:{}};return s[t]=i,e(i.exports,u(t),i),i.exports},d=function(t,i){var r=l(t,".");if(null==i&&(i="/"),r=a(t,i),n.call(s,r))return s[r].exports;if(n.call(e,r))return c(r,e[r]);var o=l(r,"./index");if(n.call(s,o))return s[o].exports;if(n.call(e,o))return c(o,e[o]);throw new Error('Cannot find module "'+t+'" from "'+i+'"')};d.alias=function(t,e){i[e]=t},d.register=d.define=function(t,s){if("object"==typeof t)for(var i in t)n.call(t,i)&&(e[i]=t[i]);else e[t]=s},d.list=function(){var t=[];for(var s in e)n.call(e,s)&&t.push(s);return t},d.brunch=!0,d._cache=s,t.require=d}}(),require.register("Hexagon",function(t,e,s){"use strict";var i,n=e("src/Utils"),r=e("src/RegularPolygon"),a=e("src/Rays"),o=e("src/Wall"),l=e("src/Cursor"),h=e("src/Timer");s.exports=i=function(){function t(t){if("undefined"==typeof t)throw new Error("No args provided");if("undefined"==typeof t.canvas)throw new Error("No canvas provided");this.args=t,this.canvas=t.canvas,this.ctx=this.canvas.getContext("2d"),this.angleSpeed=1.2,this.backgroundColors=[["#0A2727","#103D3D"],["#092415","#0D2F1C"]],this.wallColors=["#1EAAA5","#4EFC96"],this.wallSpeed=5,this.walls=[null,null,null,null],this.currentWallColor=this.wallColors[0],this.currentBGC=this.backgroundColors[0],this.rays=new a({amount:6}),this.hexagon=new r({canvas:this.canvas,sides:6,size:1e3}),this.cursor=new l({canvas:this.canvas,size:7,color:this.wallColors[0],radius:75,speed:5}),this.minDist=Math.sqrt(Math.pow(this.canvas.width,2)+Math.pow(this.canvas.height,2))/2,this.timer=new h({url:"audio/rankup.wav"}).init(this.wallColors),this.audio_bgm=null,this.audio_start=new Audio("audio/start.wav"),this.audio_die=new Audio("audio/die.wav");for(var e,s=new(window.AudioContext||window.webkitAudioContext),i=s.createAnalyser(),u=null,c=[],d=0,g=0,f=0,v=!1,m=0,p=1,w=0;w<this.walls.length;w++)this.walls[w]=new o({distance:this.minDist+this.minDist/3*(w+1)}),this.walls[w].generatePattern();this.loadConfig=function(t,e){n.getJSON(t,function(n){if("undefined"==typeof n)return void console.error("HexagonJS @ "+t+": Can't get data.");if("undefined"==typeof n.game)return void console.error("HexagonJS @ "+t+': "game" object not found.');if(this.audio_bgm||"undefined"==typeof n.game.music||("string"==typeof n.game.music?(this.audio_bgm=new Audio(n.game.music),this.audio_bgm.volume=.6,u=s.createMediaElementSource(this.audio_bgm),u.connect(i),u.connect(s.destination),c=new Uint8Array(i.frequencyBinCount),g=~~(c.length/3)):console.error("HexagonJS @ "+t+': "music" must be a string.')),"undefined"!=typeof n.game.angleSpeed&&("number"==typeof n.game.angleSpeed?this.angleSpeed=n.game.angleSpeed:console.error("HexagonJS @ "+t+': "angleSpeed" must be a number.')),"undefined"!=typeof n.game.wallSpeed&&("number"==typeof n.game.wallSpeed?n.game.wallSpeed>0?this.wallSpeed=n.game.wallSpeed:console.error("HexagonJS @ "+t+': "wallSpeed" must be a not null positive number.'):console.error("HexagonJS @ "+t+': "wallSpeed" must be a number.')),"undefined"!=typeof n.game.cursorSpeed&&("number"==typeof n.game.cursorSpeed?n.game.cursorSpeed>0?this.cursor.speed=n.game.cursorSpeed:console.error("HexagonJS @ "+t+': "cursorSpeed" must be a not null positive number.'):console.error("HexagonJS @ "+t+': "cursorSpeed" must be a number.')),"undefined"!=typeof n.game.backgroundColors&&("object"==typeof n.game.backgroundColors?2==n.game.backgroundColors.length?"object"==typeof n.game.backgroundColors[0]&&"object"==typeof n.game.backgroundColors[1]?2!=n.game.backgroundColors[0].length||2!=n.game.backgroundColors[1].length||"string"!=typeof n.game.backgroundColors[0][0]||"string"!=typeof n.game.backgroundColors[0][1]||"string"!=typeof n.game.backgroundColors[1][0]||"string"!=typeof n.game.backgroundColors[1][1]?console.error("HexagonJS @ "+t+': "backgroundColors" must contain two arrays containing two strings.'):this.backgroundColors=n.game.backgroundColors:console.error("HexagonJS @ "+t+': "backgroundColors" must contain arrays of strings.'):console.error("HexagonJS @ "+t+': "backgroundColors" must contain two values.'):console.error("HexagonJS @ "+t+': "backgroundColors" must be an array of arrays of strings.')),"undefined"!=typeof n.game.wallColors&&("object"==typeof n.game.wallColors?2==n.game.wallColors.length?"string"==typeof n.game.wallColors[0]&&"string"==typeof n.game.wallColors[1]?this.wallColors=n.game.wallColors:console.error("HexagonJS @ "+t+': "wallColors" must contain strings.'):console.error("HexagonJS @ "+t+': "wallColors" must contain two values.'):console.error("HexagonJS @ "+t+': "wallColors" must be an array of strings.')),"object"==typeof n.game.patterns){for(var r=0;r<n.game.patterns.length;r++)("object"!=typeof n.game.patterns[r]||6!=n.game.patterns[r].length)&&console.error("HexagonJS @ "+t+': "patterns" must be an array of arrays of 6 booleans.');for(var r=this.walls.length-1;r>=0;r--)this.walls[r].setPatterns(n.game.patterns),this.walls[r].generatePattern()}"undefined"!=typeof n.levels&&this.timer.load(n),"function"==typeof e&&e()}.bind(this))},"string"==typeof this.args.config&&this.loadConfig(this.args.config),this.init=function(){return"string"==typeof this.args.config?this.loadConfig(this.args.config,function(){Math.floor(Date.now())%2==0&&(this.angleSpeed*=-1)}.bind(this)):(this.angleSpeed=1.2,this.wallSpeed=5,Math.floor(Date.now())%2==0&&(this.angleSpeed*=-1)),this.cursor.size=7,this.timer.currentLevel=0,this.timer.levelText.innerHTML=this.timer.levelTexts[0],f=0,this},this.play=function(){var t=this;v=!1,document.onkeydown=function(e){var s=e.which||e.keyCode;27==s&&(v=!0),t.moveCursor(e)},document.onkeyup=function(e){t.stopCursor(e)},this.audio_start.play(),setTimeout(function(){this.audio_bgm&&this.audio_bgm.paused&&this.audio_bgm.play()}.bind(this),200),e=requestAnimationFrame(C.bind(this))},this.moveCursor=function(t){var e=t.which||t.keyCode;39==e?this.cursor.dir=1:37==e&&(this.cursor.dir=-1)},this.stopCursor=function(t){var e=t.which||t.keyCode;(39==e&&1==this.cursor.dir||37==e&&-1==this.cursor.dir)&&(this.cursor.dir=0)},this.die=function(){setTimeout(function(){this.audio_bgm&&(this.audio_bgm.pause(),this.audio_bgm.currentTime=0)}.bind(this),200),this.audio_die.play(),this.hexagon.draw(this.canvas,this.currentBGC[m],this.currentWallColor,7),this.cursor.draw(),this.cursor.dir=0,document.onkeydown=null,document.onkeyup=null,f=0,e=requestAnimationFrame(y.bind(this))};var C=function(){var t=60>=f%120?f%120:60-(f%120-60);if(this.currentWallColor=n.interpolateColor(this.wallColors[0],this.wallColors[1],60,t),this.currentBGC=[n.interpolateColor(this.backgroundColors[0][m],this.backgroundColors[1][m],60,t),n.interpolateColor(this.backgroundColors[0][p],this.backgroundColors[1][p],60,t)],f%300==0&&Math.floor(100*Math.random())<5&&(this.angleSpeed*=-1),this.audio_bgm){i.getByteFrequencyData(c);var s=c.slice(g,2*g);d=n.arrayAvg(s)/2}this.ctx.fillStyle=this.currentBGC[m],this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.rotate(this.angleSpeed*Math.PI/180),this.ctx.translate(-this.canvas.width/2,-this.canvas.height/2),this.rays.draw(this.canvas,[this.currentBGC[m],this.currentBGC[p]]);for(var r=0;r<this.walls.length;r++)this.walls[r].draw(this.canvas,this.currentWallColor,d),this.walls[r].distance-=this.wallSpeed,this.walls[r].distance<=0&&(this.walls[r].distance=this.minDist+this.minDist/3,this.walls[r].generatePattern()),this.walls[r].checkCollision(this.cursor.getCoord(),this.canvas)&&(v=!0);return this.cursor.color=this.currentWallColor,this.cursor.draw(d),this.cursor.radius>75&&(this.cursor.radius-=25),this.cursor.size>7&&(this.cursor.size-=1),this.hexagon.draw(this.currentBGC[m],this.currentWallColor,7,d),this.hexagon.size>50&&(this.hexagon.size-=25),this.timer.update(f,this.currentWallColor),v?this.die():(f++,void(e=requestAnimationFrame(C.bind(this))))},y=function(){if(this.angleSpeed>.4?(this.angleSpeed-=.01,this.angleSpeed<.4&&(this.angleSpeed=.4)):this.angleSpeed<-.4&&(this.angleSpeed+=.01,this.angleSpeed>-.4&&(this.angleSpeed=-.4)),this.wallSpeed>0&&(this.wallSpeed=0),30==f&&(this.wallSpeed=-50),f>=48&&this.hexagon.size<250&&(this.hexagon.size+=50,this.cursor.radius+=50,this.cursor.size+=1),this.hexagon.size>=250){var t=this;cancelAnimationFrame(e),window.onkeydown=function(s){var i=s.which||s.keyCode;if(32==i||38==i){for(var n=0;n<t.walls.length;n++)t.walls[n]=new o({distance:t.minDist+t.minDist/3*(n+1)}),t.walls[n].generatePattern();return window.onkeydown=null,cancelAnimationFrame(e),void t.init().play()}}}this.ctx.fillStyle=this.currentBGC[m],this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.rotate(this.angleSpeed*Math.PI/180),this.ctx.translate(-this.canvas.width/2,-this.canvas.height/2),this.rays.draw(this.canvas,[this.currentBGC[m],this.currentBGC[p]]);for(var s=0;s<this.walls.length;s++)this.walls[s].draw(this.canvas,this.currentWallColor,d),this.walls[s].distance-=this.wallSpeed,this.walls[s].distance<=0&&(this.walls[s].distance=this.minDist+this.minDist/3,this.walls[s].generatePattern());this.cursor.color=3>f%6?this.wallColors[0]:this.wallColors[1],this.cursor.draw(d),f>36&&(0>d?(d+=1,d>0&&(d=0)):d>0&&(d-=1,0>d&&(d=0))),this.hexagon.draw(this.currentBGC[m],this.currentWallColor,7,d),f++,e=requestAnimationFrame(y.bind(this))};return this}return t}()}),require.register("src/Cursor",function(t,e,s){"use strict";var i;s.exports=i=function(){function t(t){this.canvas=t.canvas||{},this.color=t.color||"#fff",this.size=t.size||5,this.radius=t.radius||50,this.speed=t.speed||4,this.dir=0,this.angle=30,this.draw=function(t){var e=this.canvas.getContext("2d"),s=this.canvas.width/2+(this.radius+t)*Math.cos(this.angle*Math.PI/180),i=this.canvas.height/2+(this.radius+t)*Math.sin(this.angle*Math.PI/180);this.angle=this.angle+this.dir*this.speed,this.angle<0?this.angle=360-this.angle:this.angle>360&&(this.angle%=360),e.translate(s,i),e.rotate(this.angle*Math.PI/180),e.translate(-s,-i),e.beginPath(),e.moveTo(s-this.size,i-this.size),e.lineTo(s+this.size,i),e.lineTo(s-this.size,i+this.size),e.closePath(),e.fillStyle=this.color,e.fill(),e.translate(s,i),e.rotate(-this.angle*Math.PI/180),e.translate(-s,-i)},this.getCoord=function(){this.canvas.getContext("2d"),this.canvas.width/2+this.radius*Math.cos(this.angle*Math.PI/180),this.canvas.height/2+this.radius*Math.sin(this.angle*Math.PI/180);return{a:this.angle,d:this.radius+2*this.size}}}return t}()}),require.register("src/Rays",function(t,e,s){"use strict";var i;s.exports=i=function(){function t(t){this.amount="undefined"!=typeof t.amount?t.amount:3,this.draw=function(t,e){for(var s=t.getContext("2d"),i=t.width/2,n=t.height/2,r=t.width>t.height?t.width:t.height,a=1;a<=this.amount;a++)s.beginPath(),s.moveTo(i,n),s.lineTo(i+r*Math.cos(2*a*Math.PI/this.amount),n+r*Math.sin(2*a*Math.PI/this.amount)),s.lineTo(i+r*Math.cos((a+1)%this.amount*2*Math.PI/this.amount),n+r*Math.sin((a+1)%this.amount*2*Math.PI/this.amount)),s.fillStyle=e[a%2],s.fill()}}return t}()}),require.register("src/RegularPolygon",function(t,e,s){"use strict";var i;s.exports=i=function(){function t(t){if("undefined"==typeof t)throw new Error("RegularPolygon: No args provided");if("undefined"==typeof t.canvas)throw new Error("RegularPolygon: No target canvas provided");if("undefined"!=typeof t.sides&&t.sides<3)throw new Error("RegularPolygon: Sides cannot be less than 3");this.sides=t.sides||3,this.size=t.size||10,this.canvas=t.canvas||{},this.draw=function(t,e,s,i){var n=this.canvas.getContext("2d"),r=this.canvas.width/2||0,a=this.canvas.height/2||0;n.beginPath(),n.moveTo(r+(this.size+i)*Math.cos(0),a+this.size*Math.sin(0));for(var o=1;o<=this.sides;o++)n.lineTo(r+(this.size+i)*Math.cos(2*o*Math.PI/this.sides),a+(this.size+i)*Math.sin(2*o*Math.PI/this.sides));n.fillStyle=t,n.strokeStyle=e,n.lineCap="round",n.lineWidth=s,n.fill(),n.stroke()}}return t}()}),require.register("src/Timer",function(t,e,s){"use strict";var i;e("src/Utils");s.exports=i=function(){function t(t){this.currentLevel=0,this.levelTimings=[10,20,30,45,60],this.levelTexts=["POINT","LINE","TRIANGLE","SQUARE","PENTAGON","HEXAGON"],this.element,this.timeText,this.label,this.level,this.levelText,this.levelProgressContainer,this.levelProgress,this.notify=null,"undefined"!=typeof t&&"undefined"!=typeof t.url&&(this.notify=new Audio(t.url)),this.load=function(t){return"undefined"==typeof t?void console.error("HexagonJS @ "+url+": Can't get data."):"undefined"==typeof t.levels?void console.error("HexagonJS @ "+url+': "levels" object not found.'):"undefined"==typeof t.levels.timings||"undefined"==typeof t.levels.texts?void console.error("HexagonJS @ "+url+': Missing "timings" or "texts" arrays.'):t.levels.timings.length!=t.levels.texts.length-1?void console.error("HexagonJS @ "+url+": Level timings represent the end of each level. There should be one less timings than level names since the last level lasts forever."):(this.levelTimings=t.levels.timings,this.levelTexts=t.levels.texts,void(this.levelText.innerHTML=this.levelTexts[0]))},this.init=function(t){return this.element=document.createElement("div"),this.element.classList.add("hjs"),this.element.classList.add("timer"),document.getElementsByTagName("body")[0].appendChild(this.element),this.timeText=document.createElement("span"),this.element.appendChild(this.timeText),this.label=document.createElement("div"),this.label.classList.add("hjs"),this.label.classList.add("label"),this.label.innerHTML="TIME",this.element.appendChild(this.label),this.level=document.createElement("div"),this.level.classList.add("hjs"),this.level.classList.add("level"),document.getElementsByTagName("body")[0].appendChild(this.level),this.levelText=document.createElement("span"),this.levelText.innerHTML=this.levelTexts[0],this.level.appendChild(this.levelText),this.levelProgressContainer=document.createElement("div"),this.level.appendChild(this.levelProgressContainer),this.levelProgress=document.createElement("div"),this.levelProgress.style.backgroundColor=t[1],this.levelProgressContainer.appendChild(this.levelProgress),this},this.update=function(t,e){var s=Math.floor(t/60),i=Math.floor(t-60*s);i=("0"+i).slice(-2),this.timeText.innerHTML=s+":"+i;var n=t/(60*this.levelTimings[this.currentLevel])*100;this.currentLevel>0&&this.currentLevel<this.levelTexts.length-1&&(n=(t-60*this.levelTimings[this.currentLevel-1])/(60*this.levelTimings[this.currentLevel]-60*this.levelTimings[this.currentLevel-1])*100),this.currentLevel==this.levelTexts.length-1&&(n=100),n%=101,this.levelProgress.style.width=n+"%",this.levelProgress.style.backgroundColor=e;for(var r=0;r<this.levelTimings.length;r++)s==this.levelTimings[r]&&this.currentLevel==r&&(null!=this.notify&&this.notify.play(),this.currentLevel++,this.levelText.innerHTML=this.levelTexts[this.currentLevel])}}return t}()}),require.register("src/Utils",function(t,e,s){"use strict";var i={interpolateColor:function(t,e,s,i){function n(t){return t.toString(16)}function r(t){return parseInt(t,16)}if(0==i)return t;if(i==s)return e;for(var a="#",o=1;6>=o;o+=2){for(var l=new Number(r(t.substr(o,2))),h=new Number(r(e.substr(o,2))),u=l+(h-l)*(i/s),c=n(Math.floor(u));c.length<2;)c="0"+c;a+=c}return a},getJSON:function(t,e){var s="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");s.open("get",t,!0),s.onreadystatechange=function(){var t,i;4==s.readyState&&(t=s.status,200==t?(i=JSON.parse(s.responseText),e&&e(i)):console.error("Error: "+t))},s.send()},arrayAvg:function(t){for(var e=0,s=t.length-1;s>=0;s--)e+=t[s];return e/t.length}};s.exports=i}),require.register("src/Wall",function(t,e,s){"use strict";var i;s.exports=i=function(){function t(t){this.walls=[!1,!1,!1,!1,!1,!1],this.distance=t.distance||250,this.width=t.width||50;var e=[];"undefined"!=typeof t&&"object"==typeof t.patterns&&(e=t.patterns);var s=function(t){for(var e=0;e<t.length;e++)if(0==t[e])return!0;return!1};this.setPatterns=function(t){e=t},this.generatePattern=function(){if(e.length>0)return void(this.walls=e[Math.floor(Math.random()*e.length)]);for(var t=0;t<this.walls.length;t++)this.walls[t]=Boolean(Math.round(Math.random()));s(this.walls)||this.generatePattern()},this.draw=function(t,e,s){for(var i=t.getContext("2d"),n=t.width/2,r=t.height/2,a=0;a<this.walls.length;a++)this.walls[a]&&(i.beginPath(),i.moveTo(n+(this.distance+s)*Math.cos(2*a*Math.PI/6),r+(this.distance+s)*Math.sin(2*a*Math.PI/6)),i.lineTo(n+(this.distance+s)*Math.cos(2*(a+1)*Math.PI/6),r+(this.distance+s)*Math.sin(2*(a+1)*Math.PI/6)),i.lineTo(n+(this.distance+s-this.width)*Math.cos(2*(a+1)*Math.PI/6),r+(this.distance+s-this.width)*Math.sin(2*(a+1)*Math.PI/6)),i.lineTo(n+(this.distance+s-this.width)*Math.cos(2*a*Math.PI/6),r+(this.distance+s-this.width)*Math.sin(2*a*Math.PI/6)),i.closePath(),i.fillStyle=e,i.strokeStyle=e,i.lineWidth=1,i.fill(),i.stroke())},this.checkCollision=function(t,e){for(var s=0;s<this.walls.length;s++){var i=60*s,n=60*(s+1);if(this.walls[s]&&i<=t.a&&n>=t.a&&this.distance-this.width<=t.d&&this.distance>=t.d)return!0}return!1}}return t}()});