!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},s={},i={},n={}.hasOwnProperty,r="components/",o=function(e,t){var s=0;t&&(0===t.indexOf(r)&&(s=r.length),t.indexOf("/",s)>0&&(t=t.substring(s,t.indexOf("/",s))));var n=i[e+"/index.js"]||i[t+"/deps/"+e+"/index.js"];return n?r+n.substring(0,n.length-".js".length):e},a=/^\.\.?(\/|$)/,l=function(e,t){for(var s,i=[],n=(a.test(t)?e+"/"+t:t).split("/"),r=0,o=n.length;o>r;r++)s=n[r],".."===s?i.pop():"."!==s&&""!==s&&i.push(s);return i.join("/")},h=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(s){var i=l(h(t),s);return e.require(i,t)}},c=function(e,t){var i={id:e,exports:{}};return s[e]=i,t(i.exports,u(e),i),i.exports},d=function(e,i){var r=l(e,".");if(null==i&&(i="/"),r=o(e,i),n.call(s,r))return s[r].exports;if(n.call(t,r))return c(r,t[r]);var a=l(r,"./index");if(n.call(s,a))return s[a].exports;if(n.call(t,a))return c(a,t[a]);throw new Error('Cannot find module "'+e+'" from "'+i+'"')};d.alias=function(e,t){i[t]=e},d.register=d.define=function(e,s){if("object"==typeof e)for(var i in e)n.call(e,i)&&(t[i]=e[i]);else t[e]=s},d.list=function(){var e=[];for(var s in t)n.call(t,s)&&e.push(s);return e},d.brunch=!0,d._cache=s,e.require=d}}(),require.register("Hexagon",function(e,t,s){"use strict";var i,n=t("src/Utils"),r=t("src/RegularPolygon"),o=t("src/Rays"),a=t("src/Wall"),l=t("src/Cursor"),h=t("src/Timer");s.exports=i=function(){function e(e){if("undefined"==typeof e)throw new Error("No args provided");if("undefined"==typeof e.canvas)throw new Error("No canvas provided");this.args=e,this.canvas=e.canvas,this.ctx=this.canvas.getContext("2d"),this.angleSpeed=1.2,this.backgroundColors=[["#0A2727","#103D3D"],["#092415","#0D2F1C"]],this.wallColors=["#1EAAA5","#4EFC96"],this.wallSpeed=5,this.walls=[null,null,null,null],this.currentWallColor=this.wallColors[0],this.currentBGC=this.backgroundColors[0],this.rays=new o({amount:6}),this.hexagon=new r({canvas:this.canvas,sides:6,size:1e3}),this.cursor=new l({canvas:this.canvas,size:7,color:this.wallColors[0],radius:75,speed:5}),this.minDist=Math.sqrt(Math.pow(this.canvas.width,2)+Math.pow(this.canvas.height,2))/2,this.timer=new h({url:"audio/rankup.wav"}).init(this.wallColors),this.audio_bgm=null,this.audio_start=new Audio("audio/start.wav"),this.audio_die=new Audio("audio/die.wav");for(var t,s=new(window.AudioContext||window.webkitAudioContext),i=s.createAnalyser(),u=null,c=[],d=0,g=0,f=0,v=!1,m=0,p=1,w=0;w<this.walls.length;w++)this.walls[w]=new a({distance:this.minDist+this.minDist/3*(w+1)}),this.walls[w].generatePattern(6);this.loadConfig=function(e,t){n.getJSON(e,function(n){return"undefined"==typeof n?void console.error("HexagonJS @ "+e+": Can't get data."):"undefined"==typeof n.game?void console.error("HexagonJS @ "+e+': "game" object not found.'):(this.audio_bgm||"undefined"==typeof n.game.music||("string"==typeof n.game.music?(this.audio_bgm=new Audio(n.game.music),this.audio_bgm.volume=.6,u=s.createMediaElementSource(this.audio_bgm),u.connect(i),u.connect(s.destination),c=new Uint8Array(i.frequencyBinCount),g=~~(c.length/3)):console.error("HexagonJS @ "+e+': "music" must be a string.')),"undefined"!=typeof n.game.angleSpeed&&("number"==typeof n.game.angleSpeed?this.angleSpeed=n.game.angleSpeed:console.error("HexagonJS @ "+e+': "angleSpeed" must be a number.')),"undefined"!=typeof n.game.wallSpeed&&("number"==typeof n.game.wallSpeed?n.game.wallSpeed>0?this.wallSpeed=n.game.wallSpeed:console.error("HexagonJS @ "+e+': "wallSpeed" must be a not null positive number.'):console.error("HexagonJS @ "+e+': "wallSpeed" must be a number.')),"undefined"!=typeof n.game.cursorSpeed&&("number"==typeof n.game.cursorSpeed?n.game.cursorSpeed>0?this.cursor.speed=n.game.cursorSpeed:console.error("HexagonJS @ "+e+': "cursorSpeed" must be a not null positive number.'):console.error("HexagonJS @ "+e+': "cursorSpeed" must be a number.')),"undefined"!=typeof n.game.backgroundColors&&("object"==typeof n.game.backgroundColors?2==n.game.backgroundColors.length?"object"==typeof n.game.backgroundColors[0]&&"object"==typeof n.game.backgroundColors[1]?2!=n.game.backgroundColors[0].length||2!=n.game.backgroundColors[1].length||"string"!=typeof n.game.backgroundColors[0][0]||"string"!=typeof n.game.backgroundColors[0][1]||"string"!=typeof n.game.backgroundColors[1][0]||"string"!=typeof n.game.backgroundColors[1][1]?console.error("HexagonJS @ "+e+': "backgroundColors" must contain two arrays containing two strings.'):this.backgroundColors=n.game.backgroundColors:console.error("HexagonJS @ "+e+': "backgroundColors" must contain arrays of strings.'):console.error("HexagonJS @ "+e+': "backgroundColors" must contain two values.'):console.error("HexagonJS @ "+e+': "backgroundColors" must be an array of arrays of strings.')),"undefined"!=typeof n.game.wallColors&&("object"==typeof n.game.wallColors?2==n.game.wallColors.length?"string"==typeof n.game.wallColors[0]&&"string"==typeof n.game.wallColors[1]?this.wallColors=n.game.wallColors:console.error("HexagonJS @ "+e+': "wallColors" must contain strings.'):console.error("HexagonJS @ "+e+': "wallColors" must contain two values.'):console.error("HexagonJS @ "+e+': "wallColors" must be an array of strings.')),"undefined"!=typeof n.levels&&this.timer.load(n),void("function"==typeof t&&t()))}.bind(this))},"string"==typeof this.args.config&&this.loadConfig(this.args.config),this.init=function(){return"string"==typeof this.args.config?this.loadConfig(this.args.config,function(){Math.floor(Date.now())%2==0&&(this.angleSpeed*=-1)}.bind(this)):(this.angleSpeed=1.2,this.wallSpeed=5,Math.floor(Date.now())%2==0&&(this.angleSpeed*=-1)),this.cursor.size=7,this.timer.currentLevel=0,this.timer.levelText.innerHTML=this.timer.levelTexts[0],f=0,this},this.play=function(){var e=this;v=!1,document.onkeydown=function(t){var s=t.which||t.keyCode;27==s&&(v=!0),e.moveCursor(t)},document.onkeyup=function(t){e.stopCursor(t)},this.audio_start.play(),setTimeout(function(){this.audio_bgm&&this.audio_bgm.paused&&this.audio_bgm.play()}.bind(this),200),t=requestAnimationFrame(C.bind(this))},this.moveCursor=function(e){var t=e.which||e.keyCode;39==t?this.cursor.dir=1:37==t&&(this.cursor.dir=-1)},this.stopCursor=function(e){var t=e.which||e.keyCode;(39==t&&1==this.cursor.dir||37==t&&-1==this.cursor.dir)&&(this.cursor.dir=0)},this.die=function(){setTimeout(function(){this.audio_bgm&&(this.audio_bgm.pause(),this.audio_bgm.currentTime=0)}.bind(this),200),this.audio_die.play(),this.hexagon.draw(this.canvas,this.currentBGC[m],this.currentWallColor,7),this.cursor.draw(),this.cursor.dir=0,document.onkeydown=null,document.onkeyup=null,f=0,t=requestAnimationFrame(y.bind(this))};var C=function(){var e=60>=f%120?f%120:60-(f%120-60);if(this.currentWallColor=n.interpolateColor(this.wallColors[0],this.wallColors[1],60,e),this.currentBGC=[n.interpolateColor(this.backgroundColors[0][m],this.backgroundColors[1][m],60,e),n.interpolateColor(this.backgroundColors[0][p],this.backgroundColors[1][p],60,e)],f%300==0&&Math.floor(100*Math.random())<5&&(this.angleSpeed*=-1),this.audio_bgm){i.getByteFrequencyData(c);var s=c.slice(g,2*g);d=n.arrayAvg(s)/2}this.ctx.fillStyle=this.currentBGC[m],this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.rotate(this.angleSpeed*Math.PI/180),this.ctx.translate(-this.canvas.width/2,-this.canvas.height/2),this.rays.draw(this.canvas,[this.currentBGC[m],this.currentBGC[p]]);for(var r=0;r<this.walls.length;r++)this.walls[r].draw(this.canvas,this.currentWallColor,d),this.walls[r].distance-=this.wallSpeed,this.walls[r].distance<=0&&(this.walls[r].distance=this.minDist+this.minDist/3,this.walls[r].generatePattern(6)),this.walls[r].checkCollision(this.cursor.getCoord(),this.canvas)&&(v=!0);return this.cursor.color=this.currentWallColor,this.cursor.draw(d),this.cursor.radius>75&&(this.cursor.radius-=25),this.cursor.size>7&&(this.cursor.size-=1),this.hexagon.draw(this.currentBGC[m],this.currentWallColor,7,d),this.hexagon.size>50&&(this.hexagon.size-=25),this.timer.update(f,this.currentWallColor),v?this.die():(f++,void(t=requestAnimationFrame(C.bind(this))))},y=function(){if(this.angleSpeed>.4?(this.angleSpeed-=.01,this.angleSpeed<.4&&(this.angleSpeed=.4)):this.angleSpeed<-.4&&(this.angleSpeed+=.01,this.angleSpeed>-.4&&(this.angleSpeed=-.4)),this.wallSpeed>0&&(this.wallSpeed=0),30==f&&(this.wallSpeed=-50),f>=48&&this.hexagon.size<250&&(this.hexagon.size+=50,this.cursor.radius+=50,this.cursor.size+=1),this.hexagon.size>=250){var e=this;cancelAnimationFrame(t),window.onkeydown=function(s){var i=s.which||s.keyCode;if(32==i||38==i){for(var n=0;n<e.walls.length;n++)e.walls[n]=new a({distance:e.minDist+e.minDist/3*(n+1)}),e.walls[n].generatePattern(6);return window.onkeydown=null,cancelAnimationFrame(t),void e.init().play()}}}this.ctx.fillStyle=this.currentBGC[m],this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.rotate(this.angleSpeed*Math.PI/180),this.ctx.translate(-this.canvas.width/2,-this.canvas.height/2),this.rays.draw(this.canvas,[this.currentBGC[m],this.currentBGC[p]]);for(var s=0;s<this.walls.length;s++)this.walls[s].draw(this.canvas,this.currentWallColor,d),this.walls[s].distance-=this.wallSpeed,this.walls[s].distance<=0&&(this.walls[s].distance=this.minDist+this.minDist/3,this.walls[s].generatePattern(6));this.cursor.color=3>f%6?this.wallColors[0]:this.wallColors[1],this.cursor.draw(d),f>36&&(0>d?(d+=1,d>0&&(d=0)):d>0&&(d-=1,0>d&&(d=0))),this.hexagon.draw(this.currentBGC[m],this.currentWallColor,7,d),f++,t=requestAnimationFrame(y.bind(this))};return this}return e}()}),require.register("src/Cursor",function(e,t,s){"use strict";var i;s.exports=i=function(){function e(e){this.canvas=e.canvas||{},this.color=e.color||"#fff",this.size=e.size||5,this.radius=e.radius||50,this.speed=e.speed||4,this.dir=0,this.angle=30,this.draw=function(e){var t=this.canvas.getContext("2d"),s=this.canvas.width/2+(this.radius+e)*Math.cos(this.angle*Math.PI/180),i=this.canvas.height/2+(this.radius+e)*Math.sin(this.angle*Math.PI/180);this.angle=this.angle+this.dir*this.speed,this.angle<0?this.angle=360-this.angle:this.angle>360&&(this.angle%=360),t.translate(s,i),t.rotate(this.angle*Math.PI/180),t.translate(-s,-i),t.beginPath(),t.moveTo(s-this.size,i-this.size),t.lineTo(s+this.size,i),t.lineTo(s-this.size,i+this.size),t.closePath(),t.fillStyle=this.color,t.fill(),t.translate(s,i),t.rotate(-this.angle*Math.PI/180),t.translate(-s,-i)},this.getCoord=function(){this.canvas.getContext("2d"),this.canvas.width/2+this.radius*Math.cos(this.angle*Math.PI/180),this.canvas.height/2+this.radius*Math.sin(this.angle*Math.PI/180);return{a:this.angle,d:this.radius+2*this.size}}}return e}()}),require.register("src/Rays",function(e,t,s){"use strict";var i;s.exports=i=function(){function e(e){this.amount="undefined"!=typeof e.amount?e.amount:3,this.draw=function(e,t){for(var s=e.getContext("2d"),i=e.width/2,n=e.height/2,r=e.width>e.height?e.width:e.height,o=1;o<=this.amount;o++)s.beginPath(),s.moveTo(i,n),s.lineTo(i+r*Math.cos(2*o*Math.PI/this.amount),n+r*Math.sin(2*o*Math.PI/this.amount)),s.lineTo(i+r*Math.cos((o+1)%this.amount*2*Math.PI/this.amount),n+r*Math.sin((o+1)%this.amount*2*Math.PI/this.amount)),s.fillStyle=t[o%2],s.fill()}}return e}()}),require.register("src/RegularPolygon",function(e,t,s){"use strict";var i;s.exports=i=function(){function e(e){if("undefined"==typeof e)throw new Error("RegularPolygon: No args provided");if("undefined"==typeof e.canvas)throw new Error("RegularPolygon: No target canvas provided");if("undefined"!=typeof e.sides&&e.sides<3)throw new Error("RegularPolygon: Sides cannot be less than 3");this.sides=e.sides||3,this.size=e.size||10,this.canvas=e.canvas||{},this.draw=function(e,t,s,i){var n=this.canvas.getContext("2d"),r=this.canvas.width/2||0,o=this.canvas.height/2||0;n.beginPath(),n.moveTo(r+(this.size+i)*Math.cos(0),o+this.size*Math.sin(0));for(var a=1;a<=this.sides;a++)n.lineTo(r+(this.size+i)*Math.cos(2*a*Math.PI/this.sides),o+(this.size+i)*Math.sin(2*a*Math.PI/this.sides));n.fillStyle=e,n.strokeStyle=t,n.lineCap="round",n.lineWidth=s,n.fill(),n.stroke()}}return e}()}),require.register("src/Timer",function(e,t,s){"use strict";var i;t("src/Utils");s.exports=i=function(){function e(e){this.currentLevel=0,this.levelTimings=[10,20,30,45,60],this.levelTexts=["POINT","LINE","TRIANGLE","SQUARE","PENTAGON","HEXAGON"],this.element,this.timeText,this.label,this.level,this.levelText,this.levelProgressContainer,this.levelProgress,this.notify=null,"undefined"!=typeof e&&"undefined"!=typeof e.url&&(this.notify=new Audio(e.url)),this.load=function(e){return"undefined"==typeof e?void console.error("HexagonJS @ "+url+": Can't get data."):"undefined"==typeof e.levels?void console.error("HexagonJS @ "+url+': "levels" object not found.'):"undefined"==typeof e.levels.timings||"undefined"==typeof e.levels.texts?void console.error("HexagonJS @ "+url+': Missing "timings" or "texts" arrays.'):e.levels.timings.length!=e.levels.texts.length-1?void console.error("HexagonJS @ "+url+": Level timings represent the end of each level. There should be one less timings than level names since the last level lasts forever."):(this.levelTimings=e.levels.timings,this.levelTexts=e.levels.texts,void(this.levelText.innerHTML=this.levelTexts[0]))},this.init=function(e){return this.element=document.createElement("div"),this.element.classList.add("hjs"),this.element.classList.add("timer"),document.getElementsByTagName("body")[0].appendChild(this.element),this.timeText=document.createElement("span"),this.element.appendChild(this.timeText),this.label=document.createElement("div"),this.label.classList.add("hjs"),this.label.classList.add("label"),this.label.innerHTML="TIME",this.element.appendChild(this.label),this.level=document.createElement("div"),this.level.classList.add("hjs"),this.level.classList.add("level"),document.getElementsByTagName("body")[0].appendChild(this.level),this.levelText=document.createElement("span"),this.levelText.innerHTML=this.levelTexts[0],this.level.appendChild(this.levelText),this.levelProgressContainer=document.createElement("div"),this.level.appendChild(this.levelProgressContainer),this.levelProgress=document.createElement("div"),this.levelProgress.style.backgroundColor=e[1],this.levelProgressContainer.appendChild(this.levelProgress),this},this.update=function(e,t){var s=Math.floor(e/60),i=Math.floor(e-60*s);i=("0"+i).slice(-2),this.timeText.innerHTML=s+":"+i;var n=e/(60*this.levelTimings[this.currentLevel])*100;this.currentLevel>0&&this.currentLevel<this.levelTexts.length-1&&(n=(e-60*this.levelTimings[this.currentLevel-1])/(60*this.levelTimings[this.currentLevel]-60*this.levelTimings[this.currentLevel-1])*100),this.currentLevel==this.levelTexts.length-1&&(n=100),n%=101,this.levelProgress.style.width=n+"%",this.levelProgress.style.backgroundColor=t;for(var r=0;r<this.levelTimings.length;r++)s==this.levelTimings[r]&&this.currentLevel==r&&(null!=this.notify&&this.notify.play(),this.currentLevel++,this.levelText.innerHTML=this.levelTexts[this.currentLevel])}}return e}()}),require.register("src/Utils",function(e,t,s){"use strict";var i={interpolateColor:function(e,t,s,i){function n(e){return e.toString(16)}function r(e){return parseInt(e,16)}if(0==i)return e;if(i==s)return t;for(var o="#",a=1;6>=a;a+=2){for(var l=new Number(r(e.substr(a,2))),h=new Number(r(t.substr(a,2))),u=l+(h-l)*(i/s),c=n(Math.floor(u));c.length<2;)c="0"+c;o+=c}return o},getJSON:function(e,t){var s="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");s.open("get",e,!0),s.onreadystatechange=function(){var e,i;4==s.readyState&&(e=s.status,200==e?(i=JSON.parse(s.responseText),t&&t(i)):console.error("Error: "+e))},s.send()},arrayAvg:function(e){for(var t=0,s=e.length-1;s>=0;s--)t+=e[s];return t/e.length}};s.exports=i}),require.register("src/Wall",function(e,t,s){"use strict";var i;s.exports=i=function(){function e(e){this.walls=[!1,!1,!1,!1,!1,!1],this.distance=e.distance||250,this.width=e.width||50;var t=function(e){for(var t=0;t<e.length;t++)if(0==e[t])return!0;return!1};this.generatePattern=function(e){for(var s=0;e>s;s++)this.walls[s]=Boolean(Math.round(Math.random()));t(this.walls)||this.generatePattern(e)},this.draw=function(e,t,s){for(var i=e.getContext("2d"),n=e.width/2,r=e.height/2,o=0;o<this.walls.length;o++)this.walls[o]&&(i.beginPath(),i.moveTo(n+(this.distance+s)*Math.cos(2*o*Math.PI/6),r+(this.distance+s)*Math.sin(2*o*Math.PI/6)),i.lineTo(n+(this.distance+s)*Math.cos(2*(o+1)*Math.PI/6),r+(this.distance+s)*Math.sin(2*(o+1)*Math.PI/6)),i.lineTo(n+(this.distance+s-this.width)*Math.cos(2*(o+1)*Math.PI/6),r+(this.distance+s-this.width)*Math.sin(2*(o+1)*Math.PI/6)),i.lineTo(n+(this.distance+s-this.width)*Math.cos(2*o*Math.PI/6),r+(this.distance+s-this.width)*Math.sin(2*o*Math.PI/6)),i.closePath(),i.fillStyle=t,i.strokeStyle=t,i.lineWidth=1,i.fill(),i.stroke())},this.checkCollision=function(e,t){for(var s=0;s<this.walls.length;s++){var i=60*s,n=60*(s+1);if(this.walls[s]&&i<=e.a&&n>=e.a&&this.distance-this.width<=e.d&&this.distance>=e.d)return!0}return!1}}return e}()});